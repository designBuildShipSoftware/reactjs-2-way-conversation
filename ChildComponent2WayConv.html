<!doctype html>

<html>

<head>
    <title>ChildCompTwoWayConv</title>
    <style>
        body {
  padding: 20px
}
</style>
    <script src="https://unpkg.com/react/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom/umd/react-dom.development.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.24.0/babel.js"></script>
</head>

<body>
    <div id="container">
    </div>
    <script type='text/babel'>
        class KidChoice extends React.Component {
            render() {
                return (
                <select onChange={this.props.onChange}>
                <option value="0">Choose your option</option>
                <option value="1">Candy and Popsicle</option>
                <option value="2">Cabbage and beef</option>
                </select>
                );
            }
        }

        class TwoWayConversation extends React.Component {
        constructor(props) {
            super(props);
            this.state = {
            parentSay: "What do you want for dinner?"
            };
            this.handleChange = this.handleChange.bind(this);
        }

        handleChange(e) {
            console.log(e.target.value, " was selected");
            if(e.target.value === "0")
            this.setState({parentSay: "What do you want for dinner?"});
            if(e.target.value === "1")
            this.setState({parentSay: "Nope!"});
            if(e.target.value === "2")
            this.setState({parentSay: "Yeah!"});
        }

        render() {
            return (
            <div>Parent: {this.state.parentSay} <br/> <br/>
                Kid: <KidChoice onChange = {this.handleChange} />
            </div>
            );
        }
        }

        ReactDOM.render(
        <TwoWayConversation />,
        document.getElementById('container')
        );
    </script>
</body>

</html>